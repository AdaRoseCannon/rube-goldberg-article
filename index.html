<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Post Modern Web Development</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link href="./style.css" rel="stylesheet">
		<link href="https://ada.is/computer-modern/Serif/cmun-serif.css" rel="stylesheet">

		<style>

			:root {
				--blue: #428FCF;
				--magenta: #FF54FF;
			}

			#grid-container > h2 {
				padding: var(--padding);
				background-color: var(--blue);
				color: white;
			}

			#grid-container > section.header {
				display: flex;
				flex-direction: column;
				align-content: center;
				justify-content: center;
				background-color: var(--blue);
				color: white;
			}
		</style>
	</head>
	<body><main id="grid-container">
		<section class="header">
			<h1 id="title">A Rube Goldberg Machine</h1>
			<h2 id="subtitle">An introduction to post-modern Web Development</h2>
		</section>

		<img src="images/rube.svg" style="width: 100%; max-width: 560px;margin: 0 auto;" />

		<span style="display: flex; height: 100%; width: 100%; align-items: center; justify-content: center; font-size: 2.5em; color: rgba(70,50,0,0.3);	margin-left: 0; margin-right: 0; padding-right: 0; padding-left: 0; grid-column-start: 2;">Whitespace &lt;3</span>

		<section>
			<div class="columns">
				<p>This blog post was inspired by the wonderful talks from <a href="#link-to-videos">CSS-Day Amsterdam 2017</a>. Many of these talks introduced newer browser APIs to give framework levels of functionality but built into the browser.</p>
				<p>The title of this article refers to a Rube Goldberg machine, a machine which uses many interlocking moving parts to perform a function, these new APIs although very different can all work together to produce a wonderful web experience.</p>
				<p>These new APIs are designed to be used as-is rather than requiring a CSS/JavaScript library to assist them.</p>
				<p>This offers great benefits for performance. As there is no overhead on external dependencies, they also have great support considering how new they are.</p>
				<p>These new APIs are powerful individually but also they complement each other beautifully, CSS variables being the common thread which goes through them all.</p>
				<p>Together they enable us to produce beautiful Websites written with symantic HTML where all the visual and animation design is in the CSS and the interactivity is added with JavaScript.</p>
			</div>

			<h2>Topics covered:</h2>

			<ul>
				<li>CSS Grid</li>
				<li>Web Animations</li>
				<li>CSS Custom Properties, also known as CSS Variables</li>
			</ul>
		</section>
		
		<h2 style="grid-column: left-start / -1; text-align: left;">CSS Grid</h2>
		
		<section>
			<p><script>
			if (CSS && CSS.supports) {
				if (!CSS.supports('display' , 'grid')) {
					document.write('Your browser may not support CSS Grid, some of these Demos may not work.');
				}else {
					document.write('Your browser supports CSS Grid!');
				}
			} else {
				document.write('Can\'t detect CSS Grid Support');
			}
			</script></p>
			<section class="columns">
				<p>Grid layout feels like the most significant CSS API addition since FlexBox and enables beautiful layouts.</p>
				<p>With CSS Grid you are not restricted to 12 fixed width columns like many popular grid libaries.</p>
				<div id="grid-example">
					<span style="grid-column-end: span 2;"><code>grid-column-end: span 2;</code></span>
					<span></span>
					<span></span>
					<span></span>
					<span></span>
				</div>
				<p>CSS Grid enables one to define, how the grid columns and rows behave with granularity. The contents are the automatically placed into the grid to fill the available space. See the example below.</p>
				<p>It also introduces new CSS units and functions to define the widths and heights of columns and rows in relation to the other rows.</p>
				<p>Like with Flexbox it is going to take a while for the Web community to come to grips with the full power of Grids, but once we do layout on the web will rival the beauty of print.</p>
			</section>

		</section>

		<figure class="embed">
			<div id="grid-placement-demo">
				<h2>Four Column Grid</h2>
				<p>The title is the first element, I have set it's writing mode to vertical, the browser accounts for this in working out the size of the grid columns. Each paragraph is set to span 2 columns.</p>
				<img width="256" src="images/logo1.png" style="grid-column-start: 2;"/>
				<p>The previous image has <code>grid-column-start: 2;</code> so it starts from the first free cell after the second boundary, without reordering. The image width is set to 100% so that it fills the column width.  This paragraph gets placed immediately after the image because there are still two horizontal cells avaialble for it to fill in this row.</p>

				<p style="grid-column: 1/-1;">This paragraph is set to span the full width of the grid, this is done by setting <code>grid-column: 1/-1;</code> aka, This goes from the first grid boundary (1) to the last (4 or -1)</p>
			</div>
			<figcaption>CSS Grid Example with Text and Images</figcaption>
		</figure>

		<section>
			<div class="columns">
				<p>CSS Grid is great for very stylised layouts. It is very useful for controlled use of whitespace, Empty areas on your page can make it easier on the eyes.</p>
				<p>CSS Grid layouts are Analogous to how real documents are laid out in print.</p>
				<p>They ensure that elements in the page line up with other elements even if they are of different sizes.</p>
				<p>Notice how in Figure 1. the 1st column, the one with the vertical header, is the same width as the header. This is because the columns for the grid are set to <code>min-content repeat(3, 1fr)</code> which is equivalent to <code>min-content 1fr 1fr 1fr</code>, so 4 columns the first is the smallest content wide, each column then recieves 1 fraction of the remaining space.</p>
				<p>This has the nice property of keeping all the columns proportional so that if the header was wider it would adjust accordingly, use the slider below to adjust the font-size:</p>
			</div>
			<label>
				Slide to Adjust the Header Size in Figure 1:
				<input type="range" style="width: 100%" min="0.5" max="3.0" step="0.5" value="1.0" id="header-size-range" /
			></label>
			<script>
				document.getElementById('header-size-range').addEventListener('change', function () {
					document.querySelector('#grid-placement-demo > h2').style.fontSize = this.value + 'rem';
				});
			</script>
		</section>
		
		<section>
			<h3>CSS Grid and Components</h3>
			<p>This seems like the ultimate use case for Grid!</p>
			<ul>
				<li>Components placed in the Grid will be Resized to fit the Area</li>
				<li>Grids can be made to respond to the sizes of their contents!</li>
			</ul>
			<div class="columns">
				<p>A designer can layout the page using a Grid and when the components are added they will be resized to fit into the Grid appropriately.</p>
				<p>The grid can be built to have some regions which will shrink or expand to fit fixed size elements.</p>
			</div>
		</section>

		<figure id="auto-flow-dense-demo" style="grid-column-start: left-start;">
			<div>
				<span class="wide" style="background-color: var(--blue);">1</span>
				<span class="tall" style="background-color: var(--blue);">2</span>
				<span class="wide tall" 	style="background-color: var(--magenta);">3</span>
				<span class="tall" style="background-color: var(--blue);">4</span>
				<span class="wide" style="background-color: var(--magenta);">5</span>
				<span style="background-color: var(--blue);">6</span>
			</div>
			<label style="border: none; padding: 0;"><input type="checkbox" value="off"><span class="text">grid-auto-flow: row;</span></label>
			<script>
				document.querySelector('#auto-flow-dense-demo input').addEventListener('click', function () {
					var val = this.checked ? 'dense' : 'row';
					document.querySelector('#auto-flow-dense-demo > div').style.gridAutoFlow = val;
					document.querySelector('#auto-flow-dense-demo .text').textContent = 'rid-auto-flow: ' + val + ';';
				});
			</script>
			<figcaption>See how grid-auto-flow can reorder items.</figcaption>
		</figure>

		<section>
			<h3>CSS Grid and Responsive Design</h3>
			<div class="columns">
				<p>CSS Grid works really well with RWD. A simple grid can have different columns and rows depending on media queries. It's children will then be moved to fit into the Grid however they can. If the grid is set to <code>grid-auto-flow: dense;</code> then items will be moved out of order to fit them in as densely as possible. This is good for when order is not important such as a photo gallery but may cause accessibility issues because it has been visually reordered but still the same order in the DOM.</p>
				<p>We can gain more control when we use named grid areas and named grid edges. We can have content which always fills the same grid-area or goes between the same two named edges but change what that means depending on the context.</p>
				<p>Our grid could have 7 columns on large screens, 5 on medium sized screens and only 2 on mobile. Then we can rely on a combination of auto placement and named areas to layout our content precisely on all screen sizes.</p>
			</div>
		</section>

		<section>
			<h3>Named Grid Edges</h3>
			<p>Here I have defined a two column grid using <code>grid-template-columns</code>, where the first edge and the last edge have been named using square brackets.</p>
			<p>The child's 3 <code>grid-column</code> statements are all equivalent. Making it go from one edge to the other.</p>
			<pre><code>
parent {
	display: grid;
	grid-template-columns: [wide-start] 1fr 1fr [wide-end];
}

child {
	grid-column: wide-start/span 2;

	grid-column: wide-start/wide-end;

	grid-column: wide;
}
			</code></pre>

			<p><b>Notice</b> how we can use the area 'wide' which which was automatically generated because we have edges named 'wide-start' and 'wide-end'.</p>
		</section>
		
		<h2>CSS Custom Properties</h2>

		<figure style="grid-column-start: left-start;">
			<pre><code>
:root {
	--my-var: red;
}

p {
	color: var(--my-var);
}
			</code></pre>
			<figcaption>
				Sample CSS Variables code
			</figcaption>
		</figure>

		<section>
			<p><script>
			if (CSS && CSS.supports) {
				if (!CSS.supports('--myvar' , '3px')) {
					document.write('Your browser may not support CSS Custom Properties, some of these Demos may not work.');
				}else {
					document.write('Your browser supports CSS Custom Properties!');
				}
			} else {
				document.write('Can\'t detect CSS Custom Properties Support');
			}
			</script></p>
			<p>On the surface CSS Custom Properties just seem akin to static sass variables but they are so much more than that!</p>
			<p>The power of CSS custom properties comes from the cascade (the first C in CSS). CSS Custom Properties are inherited by their descendents. They can be overrided by pseudo selectors such as <code>:hover</code>, or queries such as <code>@supports</code> or <code>@media</code>.</p>
		</section>

		<h2>Links</h2>

		<section>
			<ul>
				<li>https://rachelandrew.co.uk/archives/2016/04/12/flexible-sized-grids-with-auto-fill-and-minmax/</li>
				<li>https://codepen.io/cssgrid/pen/kkoZro?js-preprocessor=babel/</li>
				<li>https://css-tricks.com/snippets/css/complete-guide-grid/</li>
			</ul>
		</section>

		<script src="main.js"></script>
	</main></body>	
</html>
